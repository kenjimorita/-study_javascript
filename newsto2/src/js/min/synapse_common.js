(function(){window.Synapse={endpoint:"https://api.synapse-link.com",ad:{endpoint:"https://ssl.socdm.com"},version:"1.0.5"}}).call(this),function(){Synapse.Logger=function(){function e(){}return e.DEBUG=0,e.INFO=1,e.WARN=2,e.ERROR=3,e.logLevel=3,e.debug=function(e){return this.logLevel<=this.DEBUG?console.log("%c"+e,"color: #808080"):void 0},e.info=function(e){return this.logLevel<=this.INFO?console.info("%c"+e,"color: #0000CD"):void 0},e.warn=function(e){return this.logLevel<=this.WARN?console.warn("%c"+e,"color: #FF8C00"):void 0},e.error=function(e){return this.logLevel<=this.ERROR?console.error("%c"+e,"color: red; font-style: italic"):void 0},e}()}.call(this),function(){Synapse.EventListener=function(){function e(e){this.handler=e}return e.prototype.className="Synapse.EventListener",e}()}.call(this),function(){var e=[].slice;Synapse.MVCObject=function(){function t(){}return t.prototype.className="Synapse.MVCObject",t.prototype.addListener=function(e,t){var n;return this._listeners||(this._listeners={}),n=new Synapse.EventListener(t),"undefined"==typeof this._listeners[e]?this._listeners[e]=[n]:this._listeners[e].push(n),n},t.prototype.fire=function(){var t,n;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],this._listeners||(this._listeners={}),"object"==typeof this._listeners[n]?this._listeners[n].forEach(function(e){return e.handler.apply(self,t)}):void 0},t.prototype.removeListener=function(e,t){var n;return this._listeners||(this._listeners={}),"object"==typeof this._listeners[e]?(n=this._listeners[e].indexOf(t),this._listeners[e].splice(n,1)):void 0},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};Synapse.APIResponse=function(t){function i(){this.setResponseObject=e(this.setResponseObject,this),this.setHeaders=e(this.setHeaders,this),this.updateWithXHRObject=e(this.updateWithXHRObject,this)}return n(i,t),i.prototype.className="Synapse.APIResponse",i.prototype.status=null,i.prototype.headers={},i.prototype.responseObject=null,i.prototype.responseText=null,i.prototype.isSuccess=!1,i.prototype.updateWithXHRObject=function(e){var t;return this.status=e.status,this.setHeaders(e.getAllResponseHeaders()),this.responseText=e.responseText,this.responseObject=this.setResponseObject(e.responseText),this.isSuccess=null!=(t=this.status>=200&&this.status<400)?t:{"true":!1},this.fire("update")},i.prototype.setHeaders=function(e){return e.split("\r\n").forEach(function(e){return function(t){var n;return n=t.split(":"),2===n.length?e.headers[n[0].trim()]=n[1].trim():void 0}}(this))},i.prototype.setResponseObject=function(e){try{return this.responseObject=JSON.parse(e)}catch(t){return this.responseObject=null}},i}(Synapse.MVCObject)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var s in n)e.call(n,s)&&(t[s]=n[s]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Synapse.APIClient=function(e){function n(e){null==e&&(e={}),this.endpoint=(e.endpoint||Synapse.endpoint).replace(/\/$/,""),this.serviceUUID=e.serviceUUID,this.useCookie=!0,Synapse.Logger.debug("Synapse.APIClient initialized.")}return t(n,e),n.prototype.className="Synapse.APIClient",n.prototype.STATE_INTIALIZED=0,n.prototype.STATE_LOADED=1,n.prototype.timeout=2e3,n.prototype.get=function(e,t){var n,i,s,o,r;null==t&&(t={}),t.synapse_js_sdk_version=Synapse.version,i=[];for(s in t)i.push(""+s+"="+encodeURIComponent(t[s]));return o=i.length>0?[""+this.endpoint+e,i.join("&")].join("?"):""+this.endpoint+e,r=new XMLHttpRequest,r.open("GET",o,!0),Synapse.Logger.debug("XHR GET Request: "+o),r.timeout=this.timeout,r.withCredentials=this.useCookie,r.send(),n=new Synapse.APIResponse,r.onreadystatechange=function(){return function(){return r.readyState===XMLHttpRequest.DONE?n.updateWithXHRObject(r):void 0}}(this),r.ontimeout=function(){return function(){return n.fire("timeout")}}(this),n},n}(Synapse.MVCObject)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var s in n)e.call(n,s)&&(t[s]=n[s]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Synapse.AdClient=function(e){function n(e){null==e&&(e={}),this.endpoint=(e.endpoint||Synapse.ad.endpoint).replace(/\/$/,""),this.useCookie=!1,Synapse.Logger.debug("Synapse.AdClient initialized.")}return t(n,e),n.prototype.className="Synapse.AdClient",n.prototype.timeout=2e3,n}(Synapse.APIClient)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var s in n)e.call(n,s)&&(t[s]=n[s]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Synapse.Menu=function(e){function n(e){this.menuName=e,this.status=Synapse.APIClient.prototype.STATE_INTIALIZED,this._apiClient=new Synapse.APIClient,this._adClient=new Synapse.AdClient,this._eventSender=new Synapse.EventSender(this)}return t(n,e),n.prototype.className="Synapse.Menu",n.prototype.init=function(){return this.serviceList=new Synapse.ServiceList(this),this.serviceList.addListener("load",function(e){return function(){return e.status=Synapse.APIClient.prototype.STATE_LOADED,e.serviceList.serviceListItems.forEach(function(t){return t._bindToServiceNotification(e.serviceNotification),t.addListener("notification_update",function(){return e.fire("service_notification_update")})}),e.fire("service_list_load"),e._fire_ready()}}(this)),this.serviceList.fetch(),this.serviceNotification=new Synapse.ServiceNotification(this),this.serviceNotification.addListener("load",function(e){return function(){return e.fire("service_notification_load")}}(this)),this.serviceNotification.fetch(),this.adSlot=new Synapse.AdSlot(this,{adsvPosAll:this.adsvPosAll,adsvId:this.adsvId}),this.adSlot.addListener("load",function(e){return function(){return e.fire("ad_slot_load"),e._fire_ready()}}(this)),this.adSlot.fetch()},n.prototype._fire_ready=function(){return this.serviceList.status===Synapse.APIClient.prototype.STATE_LOADED&&this.adSlot.status===Synapse.APIClient.prototype.STATE_LOADED?this.fire("ready"):void 0},n.prototype.trackShowEvent=function(){return this.serviceList._clearShowServiceList(),this._eventSender.send("show_menu",{menu_name:this.menuName})},n}(Synapse.MVCObject)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var s in n)e.call(n,s)&&(t[s]=n[s]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Synapse.ServiceList=function(e){function n(e){this.menu=e,this.status=Synapse.APIClient.prototype.STATE_INTIALIZED,this.serviceListItems=[],this._displayedItems={},Synapse.Logger.debug("Synapse.ServiceList initialized.")}return t(n,e),n.prototype.className="Synapse.ServiceList",n.prototype.fetch=function(){var e;return e=this.menu._apiClient.get("/api/v2/service_lists/show.json",{menu_name:this.menu.menuName}),e.addListener("update",function(t){return function(){return t.status=Synapse.APIClient.prototype.STATE_LOADED,t._extractResponseObject(e.responseObject),Synapse.Logger.debug("Done: load service list done."),t.fire("load")}}(this))},n.prototype._extractResponseObject=function(e){var t;return t=e.service_list_items,t?t.forEach(function(e){return function(t){var n;return n=new Synapse.ServiceListItem(e),n._extractResponseObject(t),e.serviceListItems.push(n)}}(this)):void 0},n.prototype._clearShowServiceList=function(){return this._displayedItems={}},n.prototype._isShowServiceItem=function(e){return this._displayedItems[e]},n.prototype._setShowServiceItem=function(e){return this._displayedItems[e]=!0},n}(Synapse.MVCObject)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var s in n)e.call(n,s)&&(t[s]=n[s]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Synapse.ServiceListItem=function(e){function n(e){this.serviceList=e,this._elements={},this._elements.container=document.createElement("div"),this._elements.container.className="synapse_container",this._elements.anchor=document.createElement("a"),this._elements.container.appendChild(this._elements.anchor),this._elements.icon=document.createElement("img"),this._elements.icon.className="synapse_icon",this._elements.anchor.appendChild(this._elements.icon),this._elements.category=document.createElement("div"),this._elements.category.className="synapse_category",this._elements.categoryText=document.createTextNode(""),this._elements.category.appendChild(this._elements.categoryText),this._elements.anchor.appendChild(this._elements.category),this._elements.serviceName=document.createElement("div"),this._elements.serviceName.className="synapse_service_name",this._elements.serviceNameText=document.createTextNode(""),this._elements.serviceName.appendChild(this._elements.serviceNameText),this._elements.anchor.appendChild(this._elements.serviceName),this._elements.notificationCount=document.createElement("div"),this._elements.notificationCount.className="synapse_notification_count",this._elements.notificationCountText=document.createTextNode(""),this._elements.notificationCount.appendChild(this._elements.notificationCountText),this._elements.anchor.appendChild(this._elements.notificationCount),this._elements.notificationBody=document.createElement("div"),this._elements.notificationBody.className="synapse_notification_text",this._elements.notificationBodyText=document.createTextNode(""),this._elements.notificationBody.appendChild(this._elements.notificationBodyText),this._elements.anchor.appendChild(this._elements.notificationBody)}return t(n,e),n.prototype.className="Synapse.ServiceListItem",n.prototype.notifications=[],n.prototype._elements={},n.prototype._extractResponseObject=function(e){var t,n;return this.id=e.id,this.serviceName=e.service_name,this.category=e.category,this.displayName=e.display_name,e.dark_theme_icon&&(t=new Synapse.Image(this),t._extractResponseObject(e.dark_theme_icon),this.darkThemeIcon=t),e.light_theme_icon&&(t=new Synapse.Image(this),t._extractResponseObject(e.light_theme_icon),this.lightThemeIcon=t),e.link?(n=new Synapse.Link(this),n._extractResponseObject(e.link),n.serviceListItem=this,this.link=n):void 0},n.prototype._updateHTMLElement=function(){var e,t;return this._elements.categoryText.nodeValue=this.category,this._elements.serviceNameText.nodeValue=this.displayName,e="dark"===this._theme?this.darkThemeIcon:this.lightThemeIcon,e&&(this._elements.icon.src=e.src,this._elements.icon.width=e.width,this._elements.icon.height=e.height),t=this.notifications[0]&&this.notifications[0].link?this.notifications[0].link:this.link,this._elements.anchor.href=t.url,this._elements.anchor.target="_blank",this._elements.anchor.rel="nofollow",this._elements.anchor.addEventListener("click",function(){return function(e){return e.preventDefault(),t.open(e)}}(this)),this.notifications.length>0?(this._elements.notificationBodyText.nodeValue=this.notifications[0].text,this._elements.notificationCountText.nodeValue=this.notifications.length):this._elements.notificationCountText.nodeValue=""},n.prototype.toHTMLElement=function(e){return null==e&&(e={}),this._theme=e.theme||"light",this._updateHTMLElement(),this._elements.container},n.prototype._bindToServiceNotification=function(e){return this._updateNotifications(e),e.addListener("update",function(t){return function(){return t._updateNotifications(e)}}(this))},n.prototype._updateNotifications=function(e){var t,n,i;return i=e.getNotificationItemsByServiceName(this.serviceName),t=this.notifications.map(function(e){return e.id}),n=i.map(function(e){return e.id}),t.sort().toString()!==n.sort().toString()&&(this.notifications=i,this.notifications.forEach(function(e){return function(t){return t.link?t.link.serviceListItem=e:void 0}}(this)),this._updateHTMLElement(),this.fire("notification_update")),t.length!==n.length?this.fire("notification_count_change"):void 0},n.prototype.trackShowEvent=function(){var e;return e={menu_name:this.serviceList.menu.menuName,service_list_item_id:this.id},this.notifications.length>0&&(e.service_notification_id=this.notifications[0].id),this.serviceList._isShowServiceItem(this.id)?void 0:(this.serviceList._setShowServiceItem(this.id),this.serviceList.menu._eventSender.send("show_service_list_item",e))},n.prototype.trackClickEvent=function(e){var t;return null==e&&(e={}),t={menu_name:this.serviceList.menu.menuName,service_list_item_id:this.id,is_deep_link:!!e.isDeepLink,is_deep_link_fallback:!!e.isDeepLinkFallback},e.nextUrl&&(t.next_url=e.nextUrl),e.urlSignature&&(t.url_signature=e.urlSignature),this.notifications.length>0&&(t.service_notification_id=this.notifications[0].id),this.serviceList.menu._eventSender.send("click_service_list_item",t,!!e.redirect)},n}(Synapse.MVCObject)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var s in n)e.call(n,s)&&(t[s]=n[s]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Synapse.ServiceNotification=function(e){function n(e){this.menu=e,this.status=Synapse.APIClient.prototype.STATE_INTIALIZED,this.serviceNotificationItems||(this.serviceNotificationItems=[])}return t(n,e),n.prototype.className="Synapse.ServiceNotification",n.prototype.fetch=function(){var e;return e=this.menu._apiClient.get("/api/v2/service_notifications.json",{menu_name:this.menu.menuName}),e.addListener("update",function(t){return function(){return t.status=Synapse.APIClient.prototype.STATE_LOADED,t._extractResponseObject(e.responseObject),t.fire("load"),t.fire("update")}}(this))},n.prototype._extractResponseObject=function(e){var t;return t=e.service_notifications,t?t.forEach(function(e){return function(t){var n;return n=new Synapse.ServiceNotificationItem(e),n._extractResponseObject(t),e.serviceNotificationItems.push(n)}}(this)):void 0},n.prototype.getNotificationItemsByServiceName=function(e){return this.serviceNotificationItems.filter(function(t){return t.serviceName===e})},n}(Synapse.MVCObject)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var s in n)e.call(n,s)&&(t[s]=n[s]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Synapse.ServiceNotificationItem=function(e){function n(e){this.service_notification=e}return t(n,e),n.prototype.className="Synapse.ServiceNotificationItem",n.prototype._extractResponseObject=function(e){var t;return this.id=e.id,this.serviceName=e.service_name,this.text=e.text,e.link?(t=new Synapse.Link(this),t._extractResponseObject(e.link),this.link=t):void 0},n}(Synapse.MVCObject)}.call(this),function(){Synapse.Navigation=function(){function e(){}return e.redirect=function(e,t){return null==t&&(t="_self"),document.location=e},e}()}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var s in n)e.call(n,s)&&(t[s]=n[s]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Synapse.Image=function(e){function n(e){this.imageable=e}return t(n,e),n.prototype.className="Synapse.Image",n.prototype.src=null,n.prototype.width=null,n.prototype.height=null,n.prototype._extractResponseObject=function(e){return this.width=e.width,this.height=e.height,this.src=e.src},n}(Synapse.MVCObject)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};Synapse.Link=function(t){function i(t){this.linkable=t,this._fallbackTimer=e(this._fallbackTimer,this),this._fallback=e(this._fallback,this)}return n(i,t),i.prototype.className="Synapse.Link",i.prototype.url=null,i.prototype.urlSignature=null,i.prototype.fallbackUrl=null,i.prototype.fallbackUrlSignature=null,i.prototype.androidPackageName=null,i.prototype.serviceListItem=null,i.prototype._extractResponseObject=function(e){return this.url=e.url,this.urlSignature=e.url_signature,this.fallbackUrl=e.fallback_url,this.fallbackUrlSignature=e.fallback_url_signature,this.androidPackageName=e.android_package_name},i.prototype.open=function(){var e,t;return t=this.url.match(/^(\w+)/)[1],"http"!==t&&"https"!==t?(this.serviceListItem.trackClickEvent({isDeepLink:!0,isDeepLinkFallback:!1,redirect:!1}),navigator.userAgent.indexOf("iPhone")>=0||navigator.userAgent.indexOf("iPad")>=0||navigator.userAgent.indexOf("iPod")>=0?navigator.userAgent.indexOf("CriOS")>=0?Synapse.Navigation.redirect(this.fallbackUrl):(e=document.createElement("iframe"),e.style.border="none",e.style.width="1px",e.style.height="1px",e.setAttribute("src",this.url),document.body.appendChild(e),this._fallbackTimer(2e3,e)):Synapse.Navigation.redirect(this.url)):this.serviceListItem.trackClickEvent({nextUrl:this.url,urlSignature:this.urlSignature,isDeepLink:!1,isDeepLinkFallback:!1,redirect:!0})},i.prototype._fallback=function(){return this.serviceListItem.trackClickEvent({nextUrl:this.fallbackUrl,urlSignature:this.fallbackUrlSignature,isDeepLink:!1,isDeepLinkFallback:!0,redirect:!0})()},i.prototype._fallbackTimer=function(e,t){var n;return n=Date.now(),setTimeout(function(i){return function(){var s;return document.body.appendChild(t),s=Date.now()-n-e,30>s?i._fallback():void 0}}(this),e)},i}(Synapse.MVCObject)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var s in n)e.call(n,s)&&(t[s]=n[s]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Synapse.EventSender=function(e){function n(e){this.menu=e,this._apiClient=this.menu._apiClient}return t(n,e),n.prototype.send=function(e,t,n){var i,s,o,r;if(null==t&&(t={}),null==n&&(n=!1),i=n?"html":"json",o="/api/v2/events/"+e+"."+i,n){s=[];for(r in t)s.push(""+r+"="+encodeURIComponent(t[r]));return Synapse.Logger.debug("make redirection to: "+Synapse.endpoint+o+"?"+s.join("&")),Synapse.Navigation.redirect(""+Synapse.endpoint+o+"?"+s.join("&"))}return this._apiClient.get(o,t)},n}(Synapse.MVCObject)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var s in n)e.call(n,s)&&(t[s]=n[s]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Synapse.AdSlot=function(e){function n(e,t){this.menu=e,null==t&&(t={}),this.status=Synapse.APIClient.prototype.STATE_INTIALIZED,this._isShowBeacon=!1,this.adsvPosAll=t.adsvPosAll||"TESTFILL",this.adsvId=t.adsvId||15113,this.divBox=document.createElement("div"),this.divBox.className="synapse-ad-unit-inner-box",this.divBox.style.width="100%",this._beaconDiv=document.createElement("div"),this.divBox.appendChild(this._beaconDiv),Synapse.Logger.debug("Synapse.AdSlot initialized.")}return t(n,e),n.prototype.className="Synapse.AdSlot",n.prototype.fetch=function(){var e;return e=this.menu._adClient.get("/adsv/v1",{posall:this.adsvPosAll,id:this.adsvId,t:"json2"}),e.addListener("update",function(t){return function(){return t.status=Synapse.APIClient.prototype.STATE_LOADED,t._extractResponseObject(e.responseObject),Synapse.Logger.debug("Done: load service list done."),t.fire("load")}}(this))},n.prototype._extractResponseObject=function(e){var t;return this.divBox.innerHTML=e.ad,this._beaconHTML=e.beacon,t=this.divBox.querySelector("img"),t?(t.style.display="block",t.style.width="auto",t.style.height="auto",t.style.maxWidth="100%"):void 0},n.prototype.toHTMLElement=function(){return this.divBox},n.prototype.trackShowEvent=function(){return this._isShowBeacon?void 0:(this._beaconDiv.innerHTML=this._beaconHTML,this._isShowBeacon=!0)},n}(Synapse.MVCObject)}.call(this),$(document).ready(function(){menu=new Synapse.Menu("a3_news_side_menu"),menu.adsvPosAll="sidemenu",menu.adsvId=16972,menu.addListener("service_list_load",function(){menu.serviceList.serviceListItems.forEach(function(e){listElement=$("<li>"),itemElement=e.toHTMLElement();var t=!1;$(itemElement).on("inview",function(n,i){i?(t||e.trackShowEvent(),t=!0):t=!1}),listElement.append(itemElement),$("#synapse-service-list").append(listElement)}),void 0!=menu.serviceList.serviceListItems&&menu.serviceList.serviceListItems.length>0&&($("#synapse-service-list-outer-box").css("display","block"),$("#synapse-logo-box").css("display","block"))}),menu.addListener("ad_slot_load",function(){adElement=menu.adSlot.toHTMLElement(),$("#synapse-ad-unit").append(adElement).css("display","block");var e=!1;$(adElement).on("inview",function(t,n){n?(e||menu.adSlot.trackShowEvent(),e=!0):e=!1})}),menu.addListener("service_notification_load",function(){menu.serviceNotification.serviceNotificationItems.length>0?$("#side-menu-toggle").addClass("has-notification"):$("#side-menu-toggle").removeClass("has-notification")}),menu.init()});var syn_banner_sc=document.createElement("script");syn_banner_sc.src="//cdn-img.auone.jp/spnews/hodo/sp/js/bottomBanner.js",syn_banner_sc.id="syn-bottomBanner",document.head.appendChild(syn_banner_sc),syn_banner_sc.onload=function(){var e=$("#js-syn-banner ul");for(i=0;i<syn_bottom_banner.length;i++){var t=syn_bottom_banner[i];t.url&&t.img&&e.append('<li><a href="'+t.url+'"><img src="'+t.img+'"></a></li>')}};